{% extends 'admin/layoutAdmin.html.twig' %}

{% block content %}
	<div class="row w-100 m-0 p-3">
		<div class="col p-3">
			{% for offer in signaledOffers %}
				<table class="table table-striped table-hover table-bordered mb-2">
					<tr>
						<td colspan="2">{% include 'admin/offers/_partials/offer.html.twig' with {offer: offer.offer} %}</td>
					</tr>
					<tr>
						<th>Date</th>
						<td>{{ offer.createdAt|date('d/m/Y, H:i') }}</td>
					</tr>
					<tr>
						<th>Raison</th>
						<td>{{ offer.reason.reason }}</td>
					</tr>
					<tr>
						<th>Commentaire</th>
						<td>{{ offer.comment }}</td>
					</tr>
					{% if offer.createdBy %}
						<tr>
							<th>Utilisateur</th>
							<td>
								<p class="text-muted m-0">
									<i class="fas fa-user" style="color: #3f51b5"></i>
									{{offer.createdBy.pseudonym}}
								</p>
							</td>
						</tr>
					{% else %}
						{% if offer.name %}
							<tr>
								<th>Nom</th>
								<td>{{ offer.name }}</td>
							</tr>
						{% endif %}
						{% if offer.email %}
							<tr>
								<th>Email</th>
								<td>{{ offer.email }}</td>
							</tr>
						{% endif %}
						{% if offer.phoneNumber %}
							<tr>
								<th>Téléphone</th>
								<td>{{ offer.phoneNumber }}</td>
							</tr>
						{% endif %}
					{% endif %}
				</table>
                {% else %}
                    <div>
				<p class="alert alert-primary box-shadow">
					Aucune offre signalée.
				</p>
			</div>
			{% endfor %}
		</div>
		<div class="col p-3">
			{% for discussion in signaledDiscussions %}
				<p>{{ discussion.id }}</p>
			{% endfor %}
		</div>
	</div>
{% endblock %}
